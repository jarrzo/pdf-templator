@using pdfTemplator.Shared.Constants.Enums

<MudPaper>
    <MudList Clickable="true">
        <MudListSubheader>
            Variables:
            <MudIconButton Color="Color.Primary" Variant="Variant.Outlined" Icon="@Icons.Material.Filled.Add" Size="Size.Small" @onclick="CreateNewInsertable"/>
        </MudListSubheader>
        @foreach (InsertableFormType type in Enum.GetValues(typeof(InsertableFormType)))
        {
            <MudListItem Text="@type.ToString()" Icon="@GetInsertableIcon(type)" Expanded="Insertables.Any(x => x.Type == type.ToInsertableType())">
                <NestedList>
                    @if (Insertables.Any(x => x.Type == type.ToInsertableType()))
                    {
                        @foreach (var insertable in Insertables.Where(x => x.Type == type.ToInsertableType()))
                        {
                            <MudListItem Icon="@Icons.Material.Filled.Key" @onclick="() => InsertIntoTextEditor(insertable, type)">@insertable.Key</MudListItem>
                        }
                    }
                </NestedList>
            </MudListItem>
        }
    </MudList>
</MudPaper>