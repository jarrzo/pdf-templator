@using pdfTemplator.Shared.Constants.Enums

<MudPaper>
    <MudList Clickable="true">
        <MudListSubheader>
            Variables:
            <MudIconButton Color="Color.Primary" Variant="Variant.Outlined" Icon="@Icons.Material.Filled.Add" Size="Size.Small" @onclick="CreateNewInsertable"/>
        </MudListSubheader>
        @foreach (InsertableType type in Enum.GetValues(typeof(InsertableType)))
        {
            <MudListItem Text="@type.ToString()" Icon="@GetInsertableIcon(type)" Expanded="Insertables.Any(x => x.Type == type)">
                <NestedList>
                    @if (Insertables.Any(x => x.Type == type))
                    {
                        @foreach (var insertable in Insertables.Where(x => x.Type == type))
                        {
                            <MudListItem Icon="@GetInsertableIcon(type)" @onclick="() => InsertIntoTextEditor(insertable.Key)">{{ @insertable.Key }}</MudListItem>
                        }
                    }
                </NestedList>
            </MudListItem>
        }
    </MudList>
</MudPaper>